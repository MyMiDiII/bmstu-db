# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ù–µ–±–æ–ª—å—à–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ postgres –∏ dbeaver –±–µ–∑ –±–æ–ª–∏ –∏ —Å—Ç—Ä–∞–¥–∞–Ω–∏–π.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ postgres

–Ø —Ä–µ—à–∏–ª–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å docker, —Ç–∞–∫ –∫–∞–∫ –ø–æ—Å–ª–µ –≤—ã–∫–ª—é—á–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –±–∞–∑–∞
–∏—Å—á–µ–∑–∞–ª–∞, –∞ —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è, –∫–∞–∫ —ç—Ç–æ –ø–æ—á–∏–Ω–∏—Ç—å, –Ω–µ —Ö–æ—Ç–µ–ª–∞. –í –∫–æ–º–º–∏—Ç–∞—Ö –º–æ–∂–µ—à—å –Ω–∞–π—Ç–∏
—Ñ–∞–π–ª docker-compose.yml, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∏ –Ω–∞ postgres –∏ –Ω–∞ pgadmin.

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ—Å—Ç–∞ (—ç—Ç–æ –¥–ª—è Manjaro):
```
$ sudo pacman -S postgres
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ postgres

–î–∞, –Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –¥–µ–ª–æ –Ω–µ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è :(

–ò —Ç–∞–∫, –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ —Å–æ–∑–¥–∞–ª—Å—è –Ω–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å postgres, –ø–æ–¥ –∫–æ—Ç–æ—Ä—ã–º –Ω–∞–¥–æ
–∑–∞–π—Ç–∏, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

–ú–µ–Ω—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
```
$ sudo -iu postgres
```

–ò–Ω–∏—Ü–∏–ª–∏–∑–∏—Ä—É–µ–º –∫–ª–∞—Å—Ç–µ—Ä (–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è, –º–µ–Ω—è—Ç—å –Ω–µ –Ω—É–∂–Ω–æ):
```
[postgres]$ initdb -D /var/lib/postgres/data
```

–í—ã—Ö–æ–¥–∏–º –∏–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è postgres:
```
[postgres]$ exit
```

–î–∞–ª–µ–µ –∑–∞–ø—É—Å–∫–∞–µ–º –∏ —Ä–∞–∑—Ä–µ—à–∞–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ postgres –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏:
```
$ sudo systemctl start postgres.service
$ sudo systemctl enable postgres.service
```

–°–Ω–æ–≤–∞ –∑–∞—Ö–æ–¥–∏–º –ø–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è postgres –∏ —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–º–æ–∂–Ω–æ –Ω–µ
—Å–æ–∑–¥–∞–≤–∞—Ç—å, –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –ø–æ—Ç–æ–º —Å –ø–æ–º–æ—â—å—é —Å–∫—Ä–∏–ø—Ç–æ–≤):
```
[postgres]$ createuser --interactive -P
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø–æ—è–≤—è—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–æ–ø—Ä–æ—Å–æ–≤ (–∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –ø–∞—Ä–æ–ª—å (—Ç–∞–∫ –∫–∞–∫
–º—ã —É–∫–∞–∑–∞–ª–∏ —Ñ–ª–∞–≥ `-P`), –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–∞–≤–∞ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è,
—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–ª–∞).

–ß—Ç–æ–±—ã –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –º–æ–∂–Ω–æ –±—ã–ª–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è, —Å–æ–∑–¥–∞–µ–º –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, –Ω–∞
–∫–æ—Ç–æ—Ä—É—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—É–¥–µ—Ç –∏–º–µ—Ç—å –ø—Ä–∞–≤–∞ —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏:
```
[postgres]$ createdb mymidi
```
–£—Ä–∞!!! –í—Å–µ –∑–∞–ø—É—â–µ–Ω–æ, –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å!

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ dbeaver

–ü–æ—á–µ–º—É dbeaver:

* open-sourse;
* —Ç—É–¥–∞ –º–æ–∂–Ω–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å vim-–ø–ª–∞–≥–∏–Ω.

–ö–∞–∫ –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —ç—Ç–æ –ø–æ–∫–∞ –≤—Å–µ :).

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø–æ—è–≤–ª–µ—Ç—Å—è –æ–∫–Ω–æ:

![img01](./docs/img/img01.jpg)

–í—ã–±–∏—Ä–∞–µ–º `postgres`, –Ω–∞–∂–∏–º–∞–µ–º `Next`.

–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º (–º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –Ω–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è):

![img02](./docs/img/img02.jpg)

–ë—É–¥–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–æ–π –≤–∏–¥:

![img03](./docs/img/img03.jpg)

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∏ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–∫—Ä–∏–ø —Å–æ–∑–¥–∞–Ω–∏—è –ë–î. –Ø –≤–µ—Ä—é, —á—Ç–æ —Ç—ã —Å–º–æ–∂–µ—à—å
—Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç, –ø—Ä–æ–≤–µ—Ä—å —Ç–æ–ª—å–∫–æ, —á—Ç–æ —Å–ª–µ–≤–∞ –æ—Ç
–Ω–∞–∑–≤–∞–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ —Å—Ç–æ–∏—Ç –Ω—É–∂–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ, –∏–∑–º–µ–Ω–∏—Ç—å –µ–≥–æ –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞–≤ —Å–∫—Ä–∏–ø—Ç –∏
–∏–∑–º–µ–Ω–∏–≤ –≤ –≤—ã–ø–∞–¥–∞—é—â–µ–º —Å–ø–∏—Å–∫–µ —á—É—Ç—å –≤—ã—à–µ —Ä—è–¥–æ–º —Å–æ —Å–ª–æ–Ω–∏–∫–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —Ç–µ–∫—É—â–µ–µ.

![img04](./docs/img/img04.jpg)

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—É—é –ë–î –ø–µ—Ä–µ–π–¥–∏ –∫ –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ (–Ω–∞–¥–æ, —á—Ç–æ–±—ã –æ–Ω–∞
–±—ã–ª–∞ –∞–∫—Ç–∏–≤–Ω–∞, –∏–Ω–∞—á–µ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç) –∏ –Ω–∞–∂–º–∏ F5. –¢–µ–ø–µ—Ä—å –∫–∞—Ä—Ç–∏–Ω–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–≥–ª—è–¥–µ—Ç—å
—Ç–∞–∫:

![img05](.docs/img/img05.jpg)

–¢–µ–ø–µ—Ä—å –Ω–∞–¥–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–æ–∑–¥–∞–Ω–Ω–æ–π –ë–î:

![img06](./docs/img/img06.jpg)

–í—Å–µ –≥–æ—Ç–æ–≤–æ! –û—Ç–∫—Ä—ã–≤–∞–π —Å–≤–æ–∏ —Å–∫—Ä–∏–ø—Ç—ã, –ø—Ä–æ–≤–µ—Ä—è–π, —á—Ç–æ –æ–Ω–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –Ω—É–∂–Ω–æ–º
–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏, –∏ –Ω–∞—Å–ª–∞–∂–¥–∞–π—Å—è!

## –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –õ–†

### –ß–µ—Ä–µ–∑ dbeaver

–¢–∞–∫ –ø–æ–ª—É—á–∏–ª–æ—Å—å, —á—Ç–æ —Å–∞–º–∞—è —Å–ª–æ–∂–Ω–∞—è —á–∞—Å—Ç—å (–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î)
–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–π –õ–† –≤—Ö–æ–¥–∏—Ç –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫—É.

–ï—Å—Ç—å —Ç–æ–ª—å–∫–æ –ø–∞—Ä–∞ –º–æ–º–µ–Ω—Ç–æ–≤:
* —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω–∏—è –ë–î –¥–æ–ª–∂–µ–Ω –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ –¥—Ä—É–≥–æ–π –ë–î;
* —Ç–∞–∫ –∫–∞–∫ —Å–∫—Ä–∏–ø—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –∑–∞–ø—Ä–æ—Å —É–¥–∞–ª–µ–Ω–∏—è –ë–î, –∫ –Ω–µ–π –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π,
  –¥–ª—è —ç—Ç–æ–≥–æ `–ü–ö–ú -> Disconnect` –ø–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é —Å —Ç–∞–∫–∏–º –∂–µ –Ω–∞–∑–≤–∞–Ω–∏–µ–º, –∫–∞–∫ –∏ —É
–Ω–∞—à–µ–π –ë–î;
* —Å–∫—Ä–∏–ø—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü –∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ —Å–æ–∑–¥–∞–Ω–Ω–æ–π
  –ë–î;
* —Ç–∞–±–ª–∏—Ü—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `<–∏–º—è_–±–¥> -> Schemas -> public -> Tables`.

### –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É

–û—Ç–∫–ª—é—á–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è dbeaver –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–∫—Ä–∏–ø—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è, —Ç–∞–∫ –∫–∞–∫ –æ–Ω —É–¥–∞–ª—è–µ—Ç
–ë–î, —á—Ç–æ –Ω–µ–ª—å–∑—è —Å–¥–µ–ª–∞—Ç—å –ø—Ä–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏.

* –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –Ω–∞—à–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:
```
$ psql -U mymidi
```
* –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º —Å–ø–∏—Å–æ–∫ –±–∞–∑:
```
mymidi-# \l
```

* –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞—à–µ–π –ë–î (–ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –æ—Ç —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏):
```
mymidi-# \i queries/createDB.sql 
DROP DATABASE
CREATE DATABASE
```

* –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º —Å–ø–∏—Å–æ–∫ –±–∞–∑, –≤ –Ω–µ–º –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è —Å—Ç—Ä–æ–∫–∞ —Å –∏–º–µ–Ω–µ–º –Ω–∞—à–µ–π –ë–î:
```
mymidi-# \l
                                    List of databases
      Name      |  Owner   | Encoding |   Collate   |    Ctype    |   Access privileges   
----------------+----------+----------+-------------+-------------+-----------------------
 board_games_db | mymidi   | UTF8     | en_US.UTF-8 | en_US.UTF-8 | 
...
```

* –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –ë–î:
```
mymidi-# \c board_games_db 
You are now connected to database "board_games_db" as user "mymidi".
```

* –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º —Å–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü (—Å–µ–π—á–∞—Å –≤ –Ω–µ–º –Ω–∏—á–µ–≥–æ –Ω–µ—Ç):
```
board_games_db-# \d
Did not find any relations.
```

* –í—ã–ø–æ–ª–Ω—è–µ–º —Å–∫—Ä–∏–ø—Ç —Å –∑–∞–ø—Ä–æ—Å–∞–º–∏ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é —Ç–∞–±–ª–∏—Ü:
```
board_games_db-# \i queries/createTables.sql 
CREATE EXTENSION
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
```

* –¢–µ–ø–µ—Ä—å –≤ –±–∞–∑–µ –µ—Å—Ç—å —Ç–∞–±–ª–∏—Ü—ã:
```
board_games_db-# \d
              List of relations
 Schema |       Name        | Type  | Owner  
--------+-------------------+-------+--------
 public | board_game_events | table | mymidi
 public | board_games       | table | mymidi
 public | game_event        | table | mymidi
 public | organizers        | table | mymidi
 public | venues            | table | mymidi
(5 rows)
```

* –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö –Ω–∏—á–µ–≥–æ –Ω–µ—Ç:
```
board_games_db=# select * from venues;
 venue_id | venue_name | vanue_type | city | phone | site | email 
----------+------------+------------+------+-------+------+-------
(0 rows)
```

* –ü—Ä–æ–∏–∑–≤–æ–¥–∏–º –º–∞—Å—Å–æ–≤–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö, –∑–∞–ø—É—Å–∫–∞—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Å–∫—Ä–∏–ø—Ç:
```
board_games_db=# \i queries/copyData.sql 
COPY 3000
COPY 1000
COPY 1000
COPY 2000
COPY 6000
```

* –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ç–µ–ø–µ—Ä—å –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ:
```
board_games_db=# select * from venues;
```
* –û—Ç–∫–ª—é—á–∞–µ–º—Å—è –∏ –≤—ã—Ö–æ–¥–∏–º üòä:
```
board_games_db=# \q
```
